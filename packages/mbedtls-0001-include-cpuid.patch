From 2b2a90055d2a268383baa950cc8afa74333db5ee Mon Sep 17 00:00:00 2001
From: CharlesMengCA <CharlesMeng@outlook.com>
Date: Sun, 21 Apr 2024 13:55:00 -0400
Subject: [PATCH] include cpuid.h only

Ref: https://github.com/Mbed-TLS/mbedtls/commit/d671917
---
 library/aesni.c | 6 ------
 1 file changed, 6 deletions(-)

diff --git a/library/aesni.c b/library/aesni.c
index 8e5bd55ab..74447e57a 100644
--- a/library/aesni.c
+++ b/library/aesni.c
@@ -21,13 +21,7 @@
 #if defined(MBEDTLS_AESNI_HAVE_CODE)
 
 #if MBEDTLS_AESNI_HAVE_CODE == 2
-#if defined(__GNUC__)
 #include <cpuid.h>
-#elif defined(_MSC_VER)
-#include <intrin.h>
-#else
-#error "`__cpuid` required by MBEDTLS_AESNI_C is not supported by the compiler"
-#endif
 #include <immintrin.h>
 #endif
 
-- 
2.43.0.windows.1

